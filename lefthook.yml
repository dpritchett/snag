pre-commit:
  parallel: true
  jobs:
    - name: snag-filter
      run: snag check diff
    - name: go-fmt
      glob: "*.go"
      run: gofmt -l . | grep . && exit 1 || true
    - name: go-vet
      glob: "*.go"
      run: go vet ./...
    - name: go-test
      glob: "*.go"
      run: go test ./...

commit-msg:
  jobs:
    - name: snag-filter
      run: snag check msg {1}

pre-push:
  jobs:
    - name: snag-filter
      run: snag check push
