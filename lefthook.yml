pre-commit:
  parallel: true
  commands:
    snag-filter:
      run: snag check diff
    go-fmt:
      glob: "*.go"
      run: gofmt -l . | grep . && exit 1 || true
    go-vet:
      glob: "*.go"
      run: go vet ./...
    go-test:
      glob: "*.go"
      run: go test ./...

commit-msg:
  commands:
    snag-filter:
      run: snag check msg {1}

pre-push:
  commands:
    snag-filter:
      run: snag check push
